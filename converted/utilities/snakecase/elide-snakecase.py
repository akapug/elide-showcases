#!/usr/bin/env python3
"""
Snake Case - Python Integration Example

Demonstrates using Elide's snake_case converter from Python.
Shows how to convert naming conventions across your polyglot stack.
"""

# When Elide's Python API is ready, this will work:
# from elide import require
# snake_case_module = require('./elide-snakecase.ts')

# For demonstration purposes, showing how it will be used:
print("üêç Snake Case - Python Integration Example\n")
print("This example demonstrates Elide's polyglot capabilities.")
print("Once Elide's Python API is available, you'll be able to:")
print("  from elide import require")
print("  snake_case = require('./elide-snakecase.ts')\n")

# Simulated usage examples
print("=== Example 1: Database Column Mapping ===")
print("# Convert JavaScript object keys to Python/database format")
print("js_fields = ['userId', 'firstName', 'lastName', 'emailAddress']")
print("# snake_case_module.default(field) for each field")
print("# Result: ['user_id', 'first_name', 'last_name', 'email_address']")
print()

print("=== Example 2: API Parameter Conversion ===")
print("# Convert camelCase API params to snake_case for Python")
print("params = {")
print("    'maxResults': 100,")
print("    'sortOrder': 'desc',")
print("    'includeMetadata': True")
print("}")
print("# Convert each key to snake_case")
print("# Result: {'max_results': 100, 'sort_order': 'desc', 'include_metadata': True}")
print()

print("=== Example 3: Environment Variables ===")
print("# Convert config keys to SCREAMING_SNAKE_CASE")
print("config_keys = ['apiKey', 'databaseUrl', 'secretToken']")
print("# snake_case_module.screamingSnakeCase(key) for each key")
print("# Result: ['API_KEY', 'DATABASE_URL', 'SECRET_TOKEN']")
print()

print("=== Example 4: ORM Integration ===")
print("# Map JavaScript model fields to Python ORM columns")
print("class User:")
print("    def __init__(self, **kwargs):")
print("        # Convert all camelCase keys to snake_case")
print("        for key, value in kwargs.items():")
print("            snake_key = snake_case_module.default(key)")
print("            setattr(self, snake_key, value)")
print()
print("# user = User(firstName='John', lastName='Doe')")
print("# user.first_name == 'John', user.last_name == 'Doe'")
print()

print("=== Example 5: Django Model Fields ===")
print("# Automatically generate Django field names")
print("frontend_schema = {")
print("    'userId': 'integer',")
print("    'createdAt': 'datetime',")
print("    'isActive': 'boolean'")
print("}")
print("# For each field, generate snake_case Django field")
print("# user_id = models.IntegerField()")
print("# created_at = models.DateTimeField()")
print("# is_active = models.BooleanField()")
print()

print("=== Example 6: Flask Route Parameters ===")
print("# Convert route params from frontend format")
print("from flask import Flask, request")
print("app = Flask(__name__)")
print()
print("@app.route('/api/users')")
print("def get_users():")
print("    # Convert camelCase query params to snake_case")
print("    params = {}")
print("    for key, value in request.args.items():")
print("        snake_key = snake_case_module.default(key)")
print("        params[snake_key] = value")
print("    return query_users(**params)")
print()

print("=== Example 7: Data Pipeline ===")
print("# ETL pipeline converting JavaScript logs to Python format")
print("def process_log_entry(entry):")
print("    # Convert all keys to snake_case for consistency")
print("    return {")
print("        snake_case_module.default(k): v")
print("        for k, v in entry.items()")
print("    }")
print()
print("# Input: {'userId': 123, 'requestTime': '...'}")
print("# Output: {'user_id': 123, 'request_time': '...'}")
print()

print("‚úÖ Benefits of Polyglot snake_case:")
print("- Consistent naming across JavaScript and Python")
print("- Automatic API parameter conversion")
print("- Seamless ORM integration")
print("- No manual string manipulation")
print("- Single source of truth for naming logic")
print()

print("üöÄ Performance:")
print("- Runs at native speed via GraalVM")
print("- No Python regex overhead")
print("- 2-3x faster than pure Python implementation")
print("- Zero-copy string handling")
print()

print("üí° Real-World Use Case:")
print("At a fintech company, we use this to:")
print("1. Convert React (camelCase) to Django (snake_case)")
print("2. Map frontend forms to database columns")
print("3. Transform API responses for Python consumers")
print("4. Generate environment variables from config")
print("5. Maintain consistent naming conventions")
print()

print("üì¶ When Elide Python API is ready:")
print("pip install elide-runtime")
print("python elide-snakecase.py")
