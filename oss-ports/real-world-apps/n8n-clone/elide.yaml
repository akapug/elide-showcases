name: elide-workflow
version: 1.0.0
description: Production-ready workflow automation platform (n8n alternative)

runtime:
  jvm:
    version: 21
    main: dev.elide.workflow.WorkflowApplication

  js:
    version: es2022
    runtime: bun
    main: editor/index.tsx

dependencies:
  jvm:
    - io.ktor:ktor-server-core:2.3.7
    - io.ktor:ktor-server-netty:2.3.7
    - io.ktor:ktor-server-content-negotiation:2.3.7
    - io.ktor:ktor-serialization-kotlinx-json:2.3.7
    - io.ktor:ktor-server-websockets:2.3.7
    - io.ktor:ktor-server-auth:2.3.7
    - io.ktor:ktor-server-cors:2.3.7
    - org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.3
    - org.jetbrains.kotlinx:kotlinx-serialization-json:1.6.2
    - org.jetbrains.exposed:exposed-core:0.44.1
    - org.jetbrains.exposed:exposed-dao:0.44.1
    - org.jetbrains.exposed:exposed-jdbc:0.44.1
    - org.postgresql:postgresql:42.7.0
    - com.zaxxer:HikariCP:5.1.0
    - org.quartz-scheduler:quartz:2.3.2
    - com.google.crypto.tink:tink:1.11.0
    - com.auth0:java-jwt:4.4.0
    - org.slf4j:slf4j-simple:2.0.9
    - com.fasterxml.jackson.module:jackson-module-kotlin:2.16.0
    - org.apache.httpcomponents.client5:httpclient5:5.3
    - com.google.apis:google-api-services-sheets:v4-rev20230526-2.0.0
    - com.stripe:stripe-java:24.5.0
    - org.mongodb:mongodb-driver-kotlin-coroutine:4.11.1

  js:
    - react@18.2.0
    - react-dom@18.2.0
    - @xyflow/react@12.0.0
    - zustand@4.4.7
    - react-hook-form@7.49.2
    - zod@3.22.4
    - lucide-react@0.303.0
    - tailwindcss@3.4.0
    - typescript@5.3.3
    - vite@5.0.8

build:
  targets:
    - jvm
    - js

  output: build/

  jvm:
    sourceSet: src/main/kotlin

  js:
    bundle: true
    minify: true
    sourceMaps: true

server:
  host: 0.0.0.0
  port: 5678

  cors:
    enabled: true
    origins: ["http://localhost:3000"]
