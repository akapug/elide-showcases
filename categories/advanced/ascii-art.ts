/**
 * ASCII Art Text
 * Convert text to ASCII art
 */

const FONT: Record<string, string[]> = {
  'A': [' █████ ', '██   ██', '███████', '██   ██', '██   ██'],
  'B': ['██████ ', '██   ██', '██████ ', '██   ██', '██████ '],
  'C': [' ██████', '██     ', '██     ', '██     ', ' ██████'],
  'D': ['██████ ', '██   ██', '██   ██', '██   ██', '██████ '],
  'E': ['███████', '██     ', '█████  ', '██     ', '███████'],
  'F': ['███████', '██     ', '█████  ', '██     ', '██     '],
  'G': [' ██████ ', '██      ', '██   ███', '██    ██', ' ██████ '],
  'H': ['██   ██', '██   ██', '███████', '██   ██', '██   ██'],
  'I': ['██', '██', '██', '██', '██'],
  'J': ['     ██', '     ██', '     ██', '██   ██', ' █████ '],
  'K': ['██   ██', '██  ██ ', '█████  ', '██  ██ ', '██   ██'],
  'L': ['██     ', '██     ', '██     ', '██     ', '███████'],
  'M': ['███    ███', '████  ████', '██ ████ ██', '██  ██  ██', '██      ██'],
  'N': ['███    ██', '████   ██', '██ ██  ██', '██  ██ ██', '██   ████'],
  'O': [' ██████ ', '██    ██', '██    ██', '██    ██', ' ██████ '],
  'P': ['██████ ', '██   ██', '██████ ', '██     ', '██     '],
  'Q': [' ██████ ', '██    ██', '██    ██', '██  ▄ ██', ' ██████▀'],
  'R': ['██████ ', '██   ██', '██████ ', '██   ██', '██   ██'],
  'S': ['███████', '██     ', '███████', '     ██', '███████'],
  'T': ['████████', '   ██   ', '   ██   ', '   ██   ', '   ██   '],
  'U': ['██    ██', '██    ██', '██    ██', '██    ██', ' ██████ '],
  'V': ['██    ██', '██    ██', '██    ██', ' ██  ██ ', '  ████  '],
  'W': ['██     ██', '██  █  ██', '██ ███ ██', '████ ████', '██     ██'],
  'X': ['██   ██', ' ██ ██ ', '  ███  ', ' ██ ██ ', '██   ██'],
  'Y': ['██    ██', ' ██  ██ ', '  ████  ', '   ██   ', '   ██   '],
  'Z': ['███████', '   ██  ', '  ██   ', ' ██    ', '███████'],
  '0': [' ██████ ', '██  ████', '██ ██ ██', '████  ██', ' ██████ '],
  '1': [' ██', '███', ' ██', ' ██', ' ██'],
  '2': ['███████', '     ██', '███████', '██     ', '███████'],
  '3': ['███████', '     ██', '███████', '     ██', '███████'],
  '4': ['██   ██', '██   ██', '███████', '     ██', '     ██'],
  '5': ['███████', '██     ', '███████', '     ██', '███████'],
  '6': ['███████', '██     ', '███████', '██   ██', '███████'],
  '7': ['███████', '     ██', '    ██ ', '   ██  ', '  ██   '],
  '8': ['███████', '██   ██', '███████', '██   ██', '███████'],
  '9': ['███████', '██   ██', '███████', '     ██', '███████'],
  ' ': ['   ', '   ', '   ', '   ', '   ']
};

export function render(text: string): string {
  const chars = text.toUpperCase().split('');
  const lines = ['', '', '', '', ''];

  chars.forEach(char => {
    const glyph = FONT[char] || FONT[' '];
    glyph.forEach((line, i) => {
      lines[i] += line + ' ';
    });
  });

  return lines.join('\n');
}

export function banner(text: string, border: string = '='): string {
  const art = render(text);
  const width = art.split('\n')[0].length;
  const line = border.repeat(width);

  return `${line}\n${art}\n${line}`;
}

// CLI demo
if (import.meta.url.includes("ascii-art.ts")) {
  console.log("ASCII Art Demo\n");

  console.log(render("HELLO"));
  console.log("\n" + render("ELIDE"));

  console.log("\nBanner:");
  console.log(banner("HI", '*'));

  console.log("\n✅ ASCII art test passed");
}
